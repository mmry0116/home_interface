import { createClass as _createClass, classCallCheck as _classCallCheck } from "./_virtual/_rollupPluginBabelHelpers.js";
var Xhr = /* @__PURE__ */ function() {
  function Xhr2(url, callback) {
    _classCallCheck(this, Xhr2);
    this.url = url;
    var xhr = new window.XMLHttpRequest();
    xhr.target = this;
    xhr.responseType = "arraybuffer";
    xhr.open("get", url);
    xhr.onload = function() {
      if (xhr.status === 200 || xhr.status === 206) {
        if (callback && callback instanceof Function) {
          callback(xhr.response);
        }
      }
    };
    xhr.onerror = function(e) {
    };
    this.xhr = xhr;
    this.run();
  }
  _createClass(Xhr2, [{
    key: "cancel",
    value: function cancel() {
      this.xhr.abort();
    }
  }, {
    key: "run",
    value: function run() {
      if (this.xhr.readyState === 1) {
        this.xhr.send();
      }
    }
  }]);
  return Xhr2;
}();
export { Xhr as default };
