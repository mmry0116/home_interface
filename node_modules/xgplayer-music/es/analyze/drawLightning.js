var drawLightning = function(context) {
  var data = context.data, options = context.options, ctx = context.ctx, h = context.h, w = context.w;
  var bufferLen = data.length > options.count ? options.count : data.length;
  ctx.clearRect(0, 0, w, h);
  ctx.fillStyle = options.bgColor;
  ctx.fillRect(0, 0, w, h);
  ctx.beginPath();
  var gradient = options.linear;
  ctx.strokeStyle = gradient;
  var sliceWidth = w / bufferLen;
  var x = 0;
  for (var i = 0; i < bufferLen; i++) {
    var v = data[i] / 128;
    var y = v * h / 2;
    if (i === 0) {
      ctx.moveTo(x, y);
    } else {
      ctx.lineTo(x, y);
    }
    x += sliceWidth;
  }
  ctx.lineTo(w, h / 2);
  ctx.stroke();
};
export { drawLightning as default };
